files:
  "/opt/elasticbeanstalk/hooks/appdeploy/pre/01_sqlite_backup.sh":
    mode: "000755"
    owner: root
    group: root
    content: |
      #!/usr/bin/env bash
      # insert shell script which backs up sqlite to s3, something like the following:
      # set backup directory variables
      sqlite3 'db/sillygoose.db' '.dump' > 'db/dbbackup'

      cd db
      tar -czPf backup.tar.gz dbbackup
      cd ..
      # upload backup to s3
      touch 'test'
      aws s3 cp 'test' s3://silly-goose-time-front/backend-backup
      aws s3 cp './db/backup.tar.gz' s3://silly-goose-time-front/backend-backup
